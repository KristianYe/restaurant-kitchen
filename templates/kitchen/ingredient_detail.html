{% extends "base.html" %}

{% block content %}
  <div class="mt-5">
    <div class="text-center">
      <h1>
        {{ ingredient }}
      </h1>
      {% if ingredient.added_by == user %}
      	<div class="mt-3">
          <a class="btn btn-purple" href="{% url 'kitchen:ingredient-update' pk=ingredient.id %}">Update ingredient</a>
          <a class="btn btn-danger" href="{% url 'kitchen:ingredient-delete' pk=ingredient.id %}">Delete ingredient</a>
        </div>
      {% endif %}
    </div>
    <hr>
    <div class="ms-3">
      <h4>All dishes with {{ ingredient }}:</h4>
      {% if dishes_with_obj %}
      <div class="col-6">
        <table class="table table-light bg-purple mt-4">
          <thead>
            <tr class="table-light">
              <th scope="col">Id</th>
              <th scope="col">Name</th>
              <th scope="col">Price</th>
            </tr>
          </thead>
          <tbody>
          {% for dish in ingredient.dishes.all %}
            <tr>
              <th scope="row">{{ dish.id }}</th>
              <td class="table-light">
                <a style="text-decoration: None; color: var(--ky-btn-color-purple)" href="{% url 'kitchen:dish-detail' pk=dish.id %}">{{ dish.name }}</a>
              </td>
              <td class="table-light">{{ dish.price }} $</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
        <p class="ms-1">There are no dishes with {{ ingredient }}.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
