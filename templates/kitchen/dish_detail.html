{% extends "base.html" %}

{% block content %}
  <div class="mt-5">
    <div class="text-center">
      <h1>
        {{ dish.name }}
      </h1>
      {% if dish.created_by == user %}
        <div class="mt-3">
          <a class="btn btn-purple" href="{% url 'kitchen:dish-update' pk=dish.id %}">Update dish</a>
          <a class="btn btn-danger" href="{% url 'kitchen:dish-delete' pk=dish.id %}">Delete dish</a>
        </div>
      {% endif %}
    </div>
    <hr>
    <div class="container-fluid d-flex ">
      <div style="width: 400px; height: 400px" class="border-purple">
        <img
          {% if dish.image %}
            src="{{ dish.image.url }}"
          {% else %}
            src="/static/images/default_dish_image.png"
          {% endif %}
          style="width: 100%; height: 100%"
          alt="{{ dish.name }} image"
        >
      </div>
      <div class="container d-flex flex-column gap-3">
        <p><strong>Dish Type:</strong> {{ dish.dish_type }}</p>
        <p><strong>Price:</strong> {{ dish.price }}</p>
        <p>
          <strong>Created by:</strong>
          <a style="text-decoration: None; color: blueviolet" href="{% url 'kitchen:cook-detail' pk=dish.created_by.id %}">
            {{ dish.created_by.first_name }} {{ dish.created_by.last_name }}
          </a>
        </p>
        <p><strong>Description:</strong> {{ dish.description }}</p>
        <p>
          <strong>Ingredients: </strong>
          {% for ingredient in dish.ingredients.all %}
            {{ ingredient }},
          {% endfor %}
        </p>
        <p><strong>Cooks:</strong></p>
        <div class="col-3">
          <ul class="list-group">
            {% for cook in dish.cooks.all %}
              <li class="list-group-item">
                <a style="text-decoration: None; color: var(--ky-btn-color-purple)" href="{% url 'kitchen:cook-detail' pk=cook.id %}">
                  {{ cook.first_name }} {{ cook.last_name }}
                </a>
                ({{ cook.username }})
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
